/******************************************************************************

                              Online C++ Compiler.
               Code, Compile, Run and Debug C++ program online.
Write your code in this editor and press "Run" button to compile and execute it.

*******************************************************************************/

#include <bits/stdc++.h>
using namespace std;

/*
Alice : {Bob, Charlie}
Bob : {Charlie}
Charlie : {Den}
Den : {}
Shortest path between Alice and Den is 2 via Charlie
*/

class Solution {
    private:
        int bfs(unordered_map<string, unordered_map<string, int>>&adj, string &src, string &dst) {
            queue<pair<string, int>>q;
            unordered_map<string, bool>visited;

            q.push({src, 0});
            visited[src] = true;
            while(!q.empty()) {
                int size = q.size();
                while(size--) {
                    pair<string, int>p = q.front();
                    q.pop();

                    string u = p.first;
                    int cost = p.second;

                    if (u == dst) {
                        return p.second;
                    }

                    for(auto it = adj[u].begin(); it!=adj[u].end(); it++) {
                        string nu = it->first;
                        if (!visited[nu]) {
                            q.push({nu, cost+1});
                            visited[nu] = true;
                        }
                    }
                }
            }
            return -1;
        }
    public:
        int solve(vector<vector<string>>&edges, string &src, string &dst) {
            unordered_map<string, unordered_map<string, int>>adj;
            for(int i=0;i<edges.size();i++) {
                string u = edges[i][0];
                string v = edges[i][1];

                adj[u][v] = 1;
            }
            return bfs(adj, src, dst);
        }
};

int main() {
   vector<vector<string>>edges = {
       {"alice", "bob"},
       {"alice", "charlie"},
       {"bob", "charlie"},
       {"charlie", "den"}
   };
   Solution* solution = new Solution();
   string src = "alice";
   string dst = "den";
   cout<<solution->solve(edges, src, dst);
}